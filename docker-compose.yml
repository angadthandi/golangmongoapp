version: '3'
services:
  web:
    build: ./golangapp
    container_name: golangapp
    ports:
     - "9002:9002"
    depends_on: 
      - database
  database:
    image: mongo:4.0
    container_name: mongodbservice
    command: mongod --port 27016
    volumes:
      - ./mongodbdata/testdb:/mongodbdata/testdb
    ports:
     - "27016:27016"
    environment: 
      MONGO_INITDB_ROOT_USERNAME: root
      MONGO_INITDB_ROOT_PASSWORD: password